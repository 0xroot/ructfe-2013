#!/usr/bin/node

var bignum = require('bignum');

var data = [

{"e":"7","n":"12876185188893398162567065351402267757789436895470099631217484742868325801809960205840612987676478408497655596662011319021726320868841574872267203098668021", 'm': '815932284892943071046507710489703450750697220125980773111050027791442091202157534336012992768420093256116743733787489563500459658830126463028470151498287'},

{"e":"7","n":"8690357771265280597695850259703664128809738637723830364692892383585983202417489208085380780802999734154086085754076542279059587043840211718662567937867013", 'm': '2001238045761390951384719619587331855572307934469849364627433030961285654167062527672506717427160999762505733278843346551823058543091325673912468300546715'},

{"e":"7","n":"9154258046890343523189672836402117263188036427542266196325476696943012017591631020327127858445443603168592997669323711622604734310895320250662210046636497", 'm': '7693385048867541271144027912745476148424250841336230948466619209129577045259959520657662571653676543638963006253522894778921544863469518431742957648214640'},

{"e":"7","n":"10101400506466425609324493780547202049546970101464417738796690938463642710763063014349556842988929561633909530982493803989960203294927299563789839816642293", 'm': '2917082102275071000644865231427741957760424263711900186021568495694065799083563219690127783386452223033061505488407745028732360706164152913400177383524563'},

{"e":"7","n":"11865752890249751693982143872549113762172621109216960086483078195841469435567397640349640295547701847221154626150366483435786483918922732323200875299198401", 'm': '5810769608493082931206693518022950508127272799820409892330297524437766566746295512755344912639591212351564294855305745589759237894777377514253472539957370'},

{"e":"7","n":"8546963719362130183233316136409515020185555083349188886937844205212301659319208691690777208811370098738339016785477125070726746852729465294952130831918449", 'm': '5573694825270974590810392101994591912800929010772657095182500804340924849898598670269393867249896884913496826806066357244857253607314504358894404081643927'},

{"e":"7","n":"8784212857196762357010091365146787785554873229641856905854731676947133092501635999335823929921340171812518219712989038787611351766515114601231787620979781", 'm': '5210471821920682891287842630003766333733596367775713080847833533032915099109164067319119519082768820328419841072880315333055837763211656314893532383774373'
},

{"e":"7","n":"12463664140650198421500906368306145698728519844256520449005298659637943770936137447938277201835437478943217022636590602873764184256273350418764179792331789", 'm': '103140615754470671894982792306469598351939822314119069020752620176528227184776658924690149974788545074344194794646465683649326681143570931894962137409836'},

{"e":"7","n":"9944356103336700561657432097745078932630925002924403462034448433324667189479295200174578790964624859907929522015329037715525682294055404209771449331861017", 'm': '3221528917258662005002419894570222214354120751996092028821376368216519462644203286579726666842666230864717610883383519442850632010740607212721816953177520'}

];
/*
for (var i = 0; i < data.length; ++i) {
    for (var j = 0; j < data.length; ++j) {
        if (i != j) {
            var a = bignum(data[i].n);
            var b = bignum(data[j].n);
            console.log(a.gcd(b));
        }
    }
}
*/

var M = bignum(data[0].n);

for (var i = 1; i < data.length; ++i) {
    M = M.mul(bignum(data[i].n));
}

var X = bignum(0);

for (var i = 0; i < data.length; ++i) {
    var M_i = M.div(bignum(data[i].n));
    var M_i_inv = M_i.invertm(bignum(data[i].n));
    X = X.add(bignum(data[i].m).mul(M_i.mul(M_i_inv)));
}

var ORIG = bignum('14387286764508932144726085660885431777859674364535215311151208038621802415419549919087448548233636564259927168392891276069411243660274266497615589241752933134415984852136028680328035635603508134980321349385502821938096268661690530581459704828895472080164418853914443624254148599660733181508908893469266465084240804592460112603705086042513707966591179659039858963090445172349045637432075715737532081104879548830906059704884414523437739641477975026819324167383715270060003261970186508638612163332390817271650564067141771421110355508834425639565877494379963189840177447720767669464699994377382293467313711210352733974837194619470409600350727858764968264590177406103396426848178610105429137260400757964449803175280249530620958039022461042095862435484334374967309312714513481079700131120539163455683449403229017227120831612926595689660310047350171745429867998796735254294176678935774700749515787972117363454381279654528422239559')

console.log(X.mod(M).toString() == ORIG.toString());
